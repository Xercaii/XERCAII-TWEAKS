<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xercaii Tweaks Tetris</title>
    <link rel="stylesheet" href="styles.css">
    <script>
    document.addEventListener('contextmenu', function(event) {
        event.preventDefault();
      });
</script>
</head>
<body>
    <header>
        <h1>XERCAII TWEAKS TETRIS</h1>
    </header>
    <main>
        <!-- Menu Button -->
        <button id="menu-button">Menu</button>

        <!-- Menu Overlay -->
        <div id="menu-overlay" class="menu-overlay">
            <div class="menu-content">
                <button id="close-menu" class="close-menu">X</button>
                <h2>Menu</h2>
                <ul>
                    <!-- Updated link to navigate back to the main index.html -->
                    <li><a href="../index.html" class="btn">Xercaii Tweaks</a></li>
                    <!-- New Songs Button -->
                    <li><button id="songs-button" class="btn">Songs</button></li>
                </ul>
                <!-- Songs List -->
                <div id="songs-list" class="songs-list">
                    <button class="song" data-src="extra/sounds/songs/tetris-music1.mp3">Tetris</button>
                    <button class="song" data-src="extra/sounds/songs/ICEWHORE.mp3">ICEWHORE!</button>
                    <button class="song" data-src="extra/sounds/songs/MONTAGEM.mp3">MONTAGEM</button>
                    <button class="song" data-src="extra/sounds/songs/PORSCHE.mp3">PORSCHE</button>
                    <button class="song" data-src="extra/sounds/songs/monster.mp3">Monster</button>
                    <!-- Volume Control -->
                    <div class="volume-controls">
                        <label for="volume-slider">Volume:</label>
                        <input type="range" id="volume-slider" min="0" max="1" step="0.1" value="0.3">
                    </div>
                </div>
            </div>
        </div>

        <div class="tetris-container">
            <canvas id="tetris" width="360" height="600"></canvas>
            <div class="info">
                <h2>Score: <span id="score">0</span></h2>
                <h2>Lines: <span id="lines">0</span></h2>
                <h2 id="pause-status">Status: <span id="pause-text">Running</span></h2>
            </div>
        </div>
        <div class="controls">
            <button onclick="playerRotate(1)">Rotate</button>
            <button onclick="playerMove(-1)">Left</button>
            <button onclick="playerMove(1)">Right</button>
            <button onclick="playerDrop()">Down</button>
            <button onclick="togglePause()">Pause</button>
        </div>
        <!-- Start Button -->
        <div class="start-screen">
            <button id="start-button">Start Game</button>
        </div>
        <!-- Game Over Screen -->
        <div class="game-over-screen" id="game-over-screen">
            <h2>Game Over</h2>
            <button id="play-again-button">Play Again</button>
        </div>
    </main>
    <footer>
        <p>&copy; 2024 Xercaii Tweaks. All Rights Reserved.</p>
    </footer>
    <audio id="move-sound" src="extra/sounds/move.wav"></audio>
    <audio id="rotate-sound" src="extra/sounds/rotate.wav"></audio>
    <audio id="drop-sound" src="extra/sounds/drop.wav"></audio>
    <audio id="clear-sound" src="extra/sounds/clear.wav"></audio>
    <audio id="background-music" src="extra/sounds/songs/tetris-music1.mp3" loop volume="0.3"></audio>
    <audio id="game-over-sound" src="extra/sounds/game-over-arcade-6435.mp3" volume="0.2"></audio>
    <script src="tetris.js"></script>
    <script>
        // JavaScript to handle menu display and close
        document.getElementById('menu-button').addEventListener('click', () => {
            document.getElementById('menu-overlay').style.display = 'flex';
        });

        document.getElementById('close-menu').addEventListener('click', () => {
            document.getElementById('menu-overlay').style.display = 'none';
        });

        // JavaScript to handle song selection
        document.getElementById('songs-button').addEventListener('click', () => {
            const songsList = document.getElementById('songs-list');
            songsList.style.display = songsList.style.display === 'none' ? 'block' : 'none';
        });

        document.querySelectorAll('.song').forEach(button => {
            button.addEventListener('click', () => {
                const src = button.getAttribute('data-src');
                const backgroundMusic = document.getElementById('background-music');
                backgroundMusic.src = src;
                backgroundMusic.play().catch(error => {
                    console.error('Error playing selected song:', error);
                });
            });
        });

        // JavaScript to handle volume control
        document.getElementById('volume-slider').addEventListener('input', (event) => {
            const volume = event.target.value;
            const backgroundMusic = document.getElementById('background-music');
            backgroundMusic.volume = volume;
        });
    </script>
</body>
</html>